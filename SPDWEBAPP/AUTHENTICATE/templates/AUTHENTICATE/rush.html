{% extends 'AUTHENTICATE/main.html' %}
{% load static %}
{% block content %}
<div class="homepage-content">
    <div class="text-center mb-4">
        <h2 class="homepage-heading">Rush Information</h2>
    </div>
    
    <div class="text-container mx-auto">
        
        <!-- Slideshow container -->
        <div class="slideshow-container">

            <!-- Full-width images with number and caption text -->
            <div class="mySlides fade">
            <img class="image-cropped" src="{% static 'images/backpacking.jpg' %}" style="width:100%">
            <div class="caption-text">Caption Text</div>
            </div>
        
            <div class="mySlides fade">
            <img class="image-cropped" src="{% static 'images/eWeek.png' %}" style="width:100%">
            <div class="caption-text">Caption Two</div>
            </div>
        
            <div class="mySlides fade">
            <img class="image-cropped" src="{% static 'images/tabling.png' %}" style="width:100%">
            <div class="caption-text">Caption Three</div>
            </div>
        
            <!-- Next and previous buttons -->
            <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
            <a class="next" onclick="plusSlides(1)">&#10095;</a>
        </div>
        <br>
        
        <p>
            Rush Information Goes Here.
        </p>
        <a href="https://docs.google.com/forms/d/e/1FAIpQLSfQXSQ3DEu0RXphgasbFZLvmActWl01y6gVPS0OgLJzwz8beg/viewform">
            <div class="text-center mt-4">
                <button class="btn btn-primary" type="button">Rush Interest Form</button>
            </div>
        </a>
    </div>
</div>

<script>
    let slideIndex = 0;
    let slides = document.getElementsByClassName("mySlides");
    let slideTimer;

    function showSlides(n) {
        if (slides.length === 0) return; // Prevent errors if no slides exist

        if (n !== undefined) {
            // Manual navigation (prev/next buttons)
            clearTimeout(slideTimer);
            slideIndex = n < 0 ? slides.length - 1 : n % slides.length;
        }
        else {
            // Automatic slideshow
            slideIndex++;
            if (slideIndex >= slides.length) { slideIndex = 0; }
        }

        for (let i = 0; i < slides.length; i++) {
            slides[i].style.opacity = "0";
            slides[i].style.position = "absolute";
        }

        slides[slideIndex].style.opacity = "1";
        slides[slideIndex].style.position = "relative";

        // Auto-slide every 10 seconds
        slideTimer = setTimeout(showSlides, 10000);
    }

    // Function to move to next/previous slide
    function plusSlides(n) {
        showSlides(slideIndex + n);
    }


    // Initialize slideshow
    document.addEventListener("DOMContentLoaded", function () {
        if (slides.length > 0) {
            slides[0].style.opacity = "1";
            slides[0].style.position = "relative";
        }
        showSlides(0);
    });

</script>
{% endblock %}